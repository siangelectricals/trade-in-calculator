<!DOCTYPE html>
<html>
<head>
    <title>Trade-In Calculator</title>
    <style>
        .logo {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 100px;
        }
        .header {
            margin-left: 120px; /* Push the heading to the right */
        }
        .final-price-container {
            margin-top: 20px;
            padding: 10px;
            border: 2px solid gray;
            background-color: #f0f0f0;
            display: inline-block;
        }
        .final-price {
            font-size: 24px;
            font-weight: bold;
            color: gray;
        }
    </style>
    <script>
        function calculateTradeIn() {
            let tradeInValue = parseFloat(document.getElementById("tradeInValue").value);
            let buyingPrice = parseFloat(document.getElementById("buyingPrice").value);
            let extendedWarranty = parseFloat(document.getElementById("extendedWarranty").value) || 0;
            let membership = document.getElementById("membership").value;
            
            let maxCapRates = {
                "No": 1.00,
                "Basic": 1.05,
                "Pro": 1.10,
                "VIP": 1.20
            };
            
            let discountRates = {
                "No": 0.10,
                "Basic": 0.15,
                "Pro": 0.20,
                "VIP": 0.30
            };
            
            let tradeInMaxCap = Math.ceil(tradeInValue * maxCapRates[membership]);
            let tradeInDiscountPercent = discountRates[membership] * 100;
            let tradeInAmount = Math.ceil((buyingPrice + extendedWarranty) * discountRates[membership]);
            
            if (tradeInAmount > tradeInMaxCap) {
                tradeInAmount = tradeInMaxCap;
            }
            
            let finalPrice = (buyingPrice + extendedWarranty) - tradeInAmount;
            
            document.getElementById("tradeInMaxCapResult").innerHTML = "Trade-In Value (Max Cap): RM " + tradeInMaxCap;
            document.getElementById("tradeInDiscountResult").innerHTML = "Trade-In Discount: " + tradeInDiscountPercent + "%";
            document.getElementById("tradeInAmountResult").innerHTML = "Trade-In Amount: RM " + tradeInAmount;
            document.getElementById("finalPriceResult").innerHTML = "Final Price: RM " + finalPrice.toFixed(0);
        }
    </script>
</head>
<body>
    <img src="https://siangelectricals.github.io/trade-in-calculator/logo.png" alt="Company Logo" class="logo">
    <h2 class="header">Trade-In Calculator</h2>
    
    <label>Trade-In Value (RM):</label>
    <input type="number" id="tradeInValue" step="1"><br><br>
    
    <label>Membership Level:</label>
    <select id="membership">
        <option value="No">No</option>
        <option value="Basic">Basic</option>
        <option value="Pro">Pro</option>
        <option value="VIP">VIP</option>
    </select><br><br>

    <label>Buying Price (RM):</label>
    <input type="number" id="buyingPrice" step="1"><br><br>
    
    <label>Extended Warranty (RM):</label>
    <input type="number" id="extendedWarranty" step="1"><br><br>
    
    <button onclick="calculateTradeIn()">Calculate</button>
    <h3 id="tradeInMaxCapResult"></h3>
    <h3 id="tradeInDiscountResult"></h3>
    <h3 id="tradeInAmountResult"></h3>
    <div class="final-price-container">
        <h3 id="finalPriceResult" class="final-price"></h3>
    </div>
</body>
</html>
